<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema de reservas profesional para servicios de piloto comercial - SexyFly">
    <meta name="author" content="Ivan Tintore">
    
    <title>Reserva de Piloto Comercial - SexyFly</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚úàÔ∏è</text></svg>" type="image/svg+xml">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="/css/calendar.css?v=3.0.0">
    <link rel="stylesheet" href="/css/styles.css?v=3.0.0">
</head>
<body>
    <!-- Badge de Versi√≥n -->
    <div id="version-badge" class="version-badge" role="button" tabindex="0" aria-label="Ver historial de versiones">
        <span id="version-text">Cargando...</span>
        <div id="version-dropdown" class="version-dropdown" role="tooltip">
            <div class="version-dropdown-header">
                <h4>Historial de Versiones</h4>
                <p>SexyFly - Sistema de Reservas</p>
            </div>
            <div id="version-list" class="version-list">
                <div class="version-loading">Cargando versiones...</div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>‚úàÔ∏è Reserva de Piloto Comercial</h1>
            <p>Servicio profesional de piloto comercial - SexyFly.es</p>
        </div>

        <div class="booking-card">
            <div class="pricing-info">
                <h2>üí∞ Tarifas de Reserva</h2>
                <div class="pricing-grid">
                    <div class="price-item">
                        <h3>Reserva Anticipada</h3>
                        <div class="price" id="priceAnticipada">500‚Ç¨</div>
                        <p>+7 d√≠as de antelaci√≥n / d√≠a</p>
                    </div>
                    <div class="price-item">
                        <h3>Reserva Urgente</h3>
                        <div class="price" id="priceUrgente">1,000‚Ç¨</div>
                        <p>24-48 horas / d√≠a</p>
                    </div>
                </div>
                <div class="pricing-modifiers" style="margin-top: 15px; padding: 15px; background: #F3F4F6; border-radius: 8px; font-size: 0.9em;">
                    <div style="font-weight: 600; margin-bottom: 8px; color: #1E40AF;">üìã Recargos aplicables:</div>
                    <div style="margin-bottom: 5px; color: #000;">‚Ä¢ <strong>Fin de semana</strong> (S√°b/Dom): +200‚Ç¨</div>
                    <div style="margin-bottom: 12px; color: #000;">‚Ä¢ <strong>Festivo nacional</strong>: +300‚Ç¨</div>
                    
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #D1D5DB;">
                        <div style="font-weight: 600; margin-bottom: 8px; color: #1E40AF; font-size: 0.95em;">üéâ Festivos nacionales de Espa√±a:</div>
                        <div id="holidays-list" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 4px; font-size: 0.85em; color: #000;">
                            <!-- Los festivos se cargar√°n din√°micamente desde config.js -->
                        </div>
                    </div>
                    
                    <div style="margin-top: 12px; font-size: 0.85em; color: #6B7280; font-style: italic;">
                        * Pasa el rat√≥n sobre cada d√≠a del calendario para ver el desglose del precio
                    </div>
                </div>
            </div>

            <form id="bookingForm" novalidate data-sexyfly-form="true">
                <div class="calendar-section">
                    <div id="flightCalendar"></div>
                </div>

                <div class="flight-details-section" id="flightDetailsSection" style="display: none;">
                    <h3 style="color: #1E40AF; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        ‚úàÔ∏è Detalles del Vuelo
                    </h3>
                    
                    <div class="form-row">
                        <div>
                            <label for="departureTime">üõ´ Hora de Salida <span style="color: red;">*</span></label>
                            <input type="time" id="departureTime" name="departureTime" value="09:00">
                        </div>
                        <div>
                            <label for="returnTime">üõ¨ Hora de Regreso <span style="color: red;">*</span></label>
                            <input type="time" id="returnTime" name="returnTime" value="18:00">
                        </div>
                    </div>

                    <div class="form-row">
                        <div>
                            <label for="originICAO">üõ´ Aeropuerto de Origen (OACI) <span style="color: red;">*</span></label>
                            <input type="text" id="originICAO" name="originICAO" placeholder="Ej: LELL" maxlength="4" class="icao-input" pattern="[A-Z]{4}">
                            <div class="icao-helper">C√≥digo OACI de 4 letras</div>
                        </div>
                        <div>
                            <label for="destinationICAO">üõ¨ Aeropuerto de Destino (OACI) <span style="color: red;">*</span></label>
                            <input type="text" id="destinationICAO" name="destinationICAO" placeholder="Ej: LEBL" maxlength="4" class="icao-input" pattern="[A-Z]{4}">
                            <div class="icao-helper">C√≥digo OACI de 4 letras</div>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="overnightSection" style="display: none;">
                    <label for="overnight">üè® ¬øRequiere pernocta en destino?</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="overnight" name="overnight">
                        <label for="overnight">S√≠, requiero alojamiento (gastos incluidos)</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="clientName">üë§ Nombre del Cliente</label>
                    <input type="text" id="clientName" name="clientName" placeholder="Nombre completo" required minlength="3" maxlength="100">
                </div>

                <div class="form-group">
                    <div class="form-row">
                        <div>
                            <label for="clientEmail">üìß Email de Contacto</label>
                            <input type="email" id="clientEmail" name="clientEmail" placeholder="email@ejemplo.com" required>
                        </div>
                        <div>
                            <label for="clientPhone">üì± Tel√©fono</label>
                            <input type="tel" id="clientPhone" name="clientPhone" placeholder="+34 600 000 000" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="additionalInfo">üìù Informaci√≥n Adicional</label>
                    <textarea id="additionalInfo" name="additionalInfo" rows="4" placeholder="Detalles adicionales" maxlength="500"></textarea>
                </div>

                <div class="total-flights" id="totalFlights" style="display: none;">
                    <h3 id="totalFlightsPrice">Selecciona fechas para ver el precio</h3>
                    <div class="breakdown" id="totalBreakdown">El precio se calcular√° autom√°ticamente</div>
                </div>

                <div class="form-group">
                    <div class="checkbox-group" style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #e9ecef;">
                        <input type="checkbox" id="acceptTerms" name="acceptTerms" required style="transform: scale(1.3); margin-right: 15px;">
                        <label for="acceptTerms" style="color: #374151; font-weight: 600; cursor: pointer;">
                            ‚úÖ Acepto los t√©rminos y condiciones de reserva y las pol√≠ticas de cancelaci√≥n
                        </label>
                    </div>
                </div>

                <div class="loading" id="loadingDiv">
                    <div class="spinner"></div>
                    <p>Procesando reserva...</p>
                </div>

                <button type="submit" class="btn-primary" id="submitBtn">
                    üöÅ Reservar Piloto - Pagar Ahora
                </button>
            </form>
        </div>

        <!-- T√©rminos y Condiciones -->
        <div class="terms-section" id="terms">
            <h3>üìã T√©rminos y Condiciones</h3>
            
            <h4 style="color: #1E40AF; margin-top: 20px; margin-bottom: 10px; font-size: 1.1rem;">üõ´ Servicios del Piloto</h4>
            <ul class="terms-list">
                <li>El piloto comercial cuenta con todas las licencias y certificaciones requeridas</li>
                <li>Los precios incluyen los servicios del piloto para el d√≠a completo. No se incluyen las dietas.</li>
                <li>El combustible corre por cuenta del cliente/propietario de la aeronave</li>
                <li>Briefing pre-vuelo incluido en el servicio</li>
                <li>Coordinaci√≥n con FBO/handling disponible bajo solicitud (costes aparte)</li>
            </ul>

            <h4 style="color: #1E40AF; margin-top: 20px; margin-bottom: 10px; font-size: 1.1rem;">üí∞ Condiciones Econ√≥micas</h4>
            <ul class="terms-list">
                <li>La reserva se confirma √∫nicamente tras el pago del 100% del importe. Sin pago, no hay reserva confirmada.</li>
                <li>En caso de pernocta, todos los gastos de desplazamiento, dietas y hotel corren por cuenta del cliente. Se refacturar√°n aparte y no se pondr√° el IVA como un suplido seg√∫n Consulta Vinculante V0166-22 (03/02/2022). <a href="/docs/Informe Jur√≠dico Interno - Keonycs IT Outsourcing SL.pdf" target="_blank" style="color: #1E40AF; text-decoration: underline; font-weight: 600;">Adjuntamos informe jur√≠dico</a>.</li>
                <li>Modificaciones de horario por parte del cliente: con 48h de antelaci√≥n sin coste. Con menos de 48h: se aplica la pol√≠tica de cancelaci√≥n.</li>
                <li>Retrasos operacionales (tr√°fico a√©reo, meteorolog√≠a): sin coste adicional para el cliente</li>
                <li>Retrasos por causa del cliente: 150‚Ç¨/hora adicional</li>
            </ul>

            <h4 style="color: #1E40AF; margin-top: 20px; margin-bottom: 10px; font-size: 1.1rem;">‚öñÔ∏è Responsabilidad</h4>
            <ul class="terms-list">
                <li>El piloto act√∫a bajo las instrucciones del propietario de la aeronave. La responsabilidad civil recae en el seguro de la aeronave.</li>
                <li>El cliente es responsable de la aeronave y sus pasajeros. El piloto ofrece √∫nicamente servicios de pilotaje.</li>
                <li>El piloto no se hace responsable de da√±os a terceros, equipaje o mercanc√≠as transportadas.</li>
                <li>El piloto se reserva el derecho de cancelar el vuelo si considera que no se cumplen las condiciones de seguridad, sin penalizaci√≥n alguna.</li>
            </ul>

            <h4 style="color: #1E40AF; margin-top: 20px; margin-bottom: 10px; font-size: 1.1rem;">üìù Requisitos y Obligaciones del Cliente</h4>
            <ul class="terms-list">
                <li>Edad m√≠nima para contratar el servicio: 18 a√±os</li>
                <li>El cliente debe estar en condiciones f√≠sicas y mentales adecuadas para el vuelo</li>
                <li>El cliente debe proporcionar toda la documentaci√≥n necesaria para el vuelo (DNI's, pasaportes, etc.)</li>
                <li>Se requiere seguro de aeronave v√°lido y toda documentaci√≥n en regla</li>
                <li>Prohibido el consumo de alcohol o sustancias antes/durante el vuelo</li>
                <li>Prohibido exceder el peso m√°ximo de la aeronave (MTOW)</li>
                <li>Prohibido transportar mercanc√≠as peligrosas sin autorizaci√≥n expresa</li>
            </ul>

            <h4 style="color: #1E40AF; margin-top: 20px; margin-bottom: 10px; font-size: 1.1rem;">üå§Ô∏è Condiciones Operacionales</h4>
            <ul class="terms-list">
                <li>Los vuelos est√°n sujetos a condiciones meteorol√≥gicas y operacionales</li>
                <li>En temporada de verano los SLOTS en diferentes aeropuertos (como IBIZA) requieren m√°s de 1 semana de antelaci√≥n como m√≠nimo</li>
            </ul>

            <h4 style="color: #1E40AF; margin-top: 20px; margin-bottom: 10px; font-size: 1.1rem;">üîí Privacidad y Protecci√≥n de Datos</h4>
            <ul class="terms-list">
                <li>Los datos personales se tratan seg√∫n RGPD (UE) 2016/679. No se comparten con terceros salvo obligaci√≥n legal.</li>
                <li>El piloto se compromete a la confidencialidad total sobre la identidad del cliente, destinos y conversaciones.</li>
                <li>El cliente acepta recibir comunicaciones oficiales sobre su reserva</li>
                <li>Comunicaciones oficiales: <a href="mailto:ivan@tintore.es" style="color: #1E40AF; text-decoration: underline;">ivan@tintore.es</a></li>
            </ul>

            <h4 style="color: #1E40AF; margin-top: 20px; margin-bottom: 10px; font-size: 1.1rem;">‚öñÔ∏è Jurisdicci√≥n y Ley Aplicable</h4>
            <ul class="terms-list">
                <li>Ley aplicable: Legislaci√≥n espa√±ola</li>
                <li>Jurisdicci√≥n: Tribunales de Barcelona</li>
            </ul>

            <div class="cancellation-policy">
                <h3>‚ùå Pol√≠tica de Cancelaci√≥n</h3>
                <div class="policy-item">
                    <span>Cancelaci√≥n con +4 d√≠as</span>
                    <strong>GRATUITA</strong>
                </div>
                <div class="policy-item">
                    <span>Cancelaci√≥n 2-4 d√≠as antes</span>
                    <strong>50% del importe</strong>
                </div>
                <div class="policy-item">
                    <span>Cancelaci√≥n <48 horas</span>
                    <strong>100% del importe</strong>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts - Rutas actualizadas -->
    <script src="/js/config.js?v=3.1.0"></script>
    <script src="/js/pricing.js?v=3.1.0"></script>
    <script src="/js/calendar.js?v=3.1.0"></script>
    <script src="/js/email-notifications.js?v=3.1.0"></script>
    <script src="/js/tpv-integration.js?v=3.1.0"></script>
    <script src="/js/app.js?v=3.1.0"></script>
</body>
</html>

